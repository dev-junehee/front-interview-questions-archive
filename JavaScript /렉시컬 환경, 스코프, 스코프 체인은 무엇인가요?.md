## 렉시컬 환경 (Lexical Environment)

렉시컬 환경이란 **특정 코드가 작성(선언)된 환경**을 의미하며 전체 스크립트, 함수, 코드 블록 등은 자신만의 렉시컬 환경을 갖게 됩니다.
실행 컨텍스트가 생성되면서 실행 컨텍스트 내부에 렉시컬 환경이 구성되고, 렉시컬 환경은 내부에는 **환경 레코드**와 **외부 환경 레퍼런스**로 구성됩니다.
**함수의 렉시컬 환경은 선언이 아닌 실행될 때 구성**됩니다.


| 1. 환경 레코드 (Environment Record) <br /> 2. 외부 환경 레퍼런스 (Outer Environment Reference) |
| :--- |
| 렉시컬 환경 (Lexical Environment) |
| 실행 컨텍스트 (Executuion Context) |
- **환경 레코드 (Environment Record)**
    - 유효 범위 안에 식별자와 결과값을 바인딩하여 기록하는 영역
    - 모든 지역 변수를 프로퍼티로 가지고 있는 객체이며 this와 함수의 매개변수도 포함됩니다.
    - 환경 레코드에 함수 선언, 변수명 등이 담기기 때문에 호이스팅이 일어납니다.
- **외부 환경 참조 (Outer Environment Reference)**
    - 현재 렉시컬 환경보다 상위에 있는 렉시컬 환경으로, 외부 렉시컬 환경에 대한 참조입니다.
    - 환경 레코드에 자바스크립트 엔진이 찾는 변수가 없을 경우 스코프 체이닝을 통해 외부 환경 참조에 접근하여 변수를 찾는 스코프 체이닝이 일어납니다.

<br />

## 스코프 (Scope)

스코프란 우리말로 ‘범위’라는 의미를 가지고 있습니다. 자바스크립트에서는 **‘변수에 접근할 수 있는 범위’**, **‘유효 범위’** 라고 할 수 있습니다.<br />
자바스크립트 스코프에는 전역 스코프(global scope)와 지역 스코프(local scope)가 있습니다.

- **전역 스코프 (Global Scope)** <br />
    전역 스코프는 변수가 전역에 선언되어 있기 때문에 어디에서든지 해당 변수에 접근하여 사용할 수 있습니다.
    
- **지역 스코프 (Local Scope)** <br />
    로컬 스코프는 변수가 어떤 범위 안에서 선언되어 있기 때문에 해당 범위(지역)에서만 접근하여 사용할 수 있습니다.<br />
    예를 들어 A함수 내에서 변수 B를 선언했을 경우 해당 변수 B의 스코프는 A함수 내로 한정됩니다.<br />
    이것을 함수 레벨 스코프(function-level scope)라고 하며 지역 스코프의 대표적인 예입니다.
    
자바스크립트는 기본적으로 **함수 레벨 스코프(Function-level Scope) 언어**이기 때문에 `var` 키워드를 통해 함수 외부에서 선언된 변수는 모두 전역 스코프에 속하게 됩니다.
하지만 ES6에서 추가된 문법 `let`, `const` 키워드의 경우 **블록 레벨 스코프(Block-level Scope)** 를 지원하기 때문에 변수의 유효 범위를 중괄호 내부(`{ }`)로 한정하여 사용할 수 있습니다.

<br />

## 스코프 체인 (Scope Chain)

스코프 체인은 말 그대로 스코프와 스코프가 연결되어 있다는 의미입니다. 하나의 실행 컨텍스트 안에 다른 실행 컨텍스트가 생성되어 컨텍스트가 중첩되어 있을 경우 각각의 컨텍스트가 관리하는 스코프는 서로 연결되게 되는데, 자바스크립트 엔진이 특정 변수에 대한 값을 찾을 때 해당 스코프에 값이 없을 경우 상위 스코프로 거슬러 올라가면서 변수에 대한 값을 찾는 것을 스코프 체이닝이라고 합니다.  스코프 체인은 하위 스코프에서 상위 스코프로 단방향으로만 가능합니다.
